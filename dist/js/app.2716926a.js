(function(t){function e(e){for(var n,o,r=e[0],l=e[1],h=e[2],u=0,f=[];u<r.length;u++)o=r[u],s[o]&&f.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(f.length)f.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var h=0;h<r.length;h++)e(r[h]);var c=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"1cce":function(t,e,i){"use strict";var n=i("e1ac"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");for(var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("main-container")],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.gameNumber,staticClass:"gameContainer"},[i("my-header",{attrs:{game:t.gameNumber,gameStatus:t.isGameOn},on:{startGame:t.init,endGame:t.end}}),i("mine-field-container",{attrs:{gameStatus:t.isGameOn,game:t.gameNumber,mines:t.mines,tiles:t.tiles,hasWon:t.hasWon},on:{tileClicked:t.handleTileClick,gameEnded:t.end,gameWon:t.won}})],1)},r=[],l=(i("ac6a"),i("6762"),i("2fdb"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("button",{staticClass:"btn btn-primary headerSection",attrs:{type:"button"},on:{click:t.startGame}},[t._v("New Game")]),i("button",{staticClass:"btn btn-danger headerSection",attrs:{type:"button"},on:{click:t.endGame}},[t._v("End Game")]),t.gameStatus||0==t.game?t._e():i("div",{staticClass:"headerSection flag"},[t._v("\n    GAME OVER!!\n  ")]),t.gameStatus?i("div",{staticClass:"headerSection flag"},[i("div",{staticClass:"flagText"},[t._v("Flags")]),i("div",{staticClass:"flagCount"},[t._v(t._s(t.flagsLeft))])]):t._e()])}),h=[],c={props:["game","gameStatus"],data:function(){return{flagsLeft:10}},methods:{startGame:function(){this.$emit("startGame")},endGame:function(){this.$emit("endGame")}},created:function(){var t=this;W.$on("flagPlaced",function(e){t.flagsLeft=e})}},u=c,f=(i("7ddd"),i("2877")),d=Object(f["a"])(u,l,h,!1,null,"901cdd12",null),g=d.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minefield-container",attrs:{id:t.game}},[t.gameStatus||0==t.game?t._e():i("div",{staticClass:"gameOver"},[i("h1",[t._v("GAME OVER!!!!")])]),t.hasWon&&0!=t.game?i("div",{staticClass:"gameOver"},[i("h1",[t._v("YOU WON!!!")])]):t._e(),t._l(100,function(e){return i("div",{staticClass:"tile",class:{flag:t.hasFlag(e-1),exposed:t.exposedStatus[e-1],even:1==t.tileColor(e-1),odd:0==t.tileColor(e-1)},attrs:{id:e-1},on:{click:t.handleClick,contextmenu:function(i){return i.preventDefault(),t.placeFlag(e-1)}}},[t.exposedStatus[e-1]&&!t.hasZero(e-1)?i("p",[t._v(t._s(t.getTileData(e-1)))]):t._e()])})],2)},p=[],v=[],b=0;b<100;b++)v.push(!1);var S={props:["gameStatus","game","mines","tiles","hasWon"],data:function(){return{exposedStatus:[],visited:[],flagCount:10,totalExposed:0,score:0,flagId:[],cnt:0}},methods:{exposeDFS:function(t,e,i){if(!this.visited[t][e]&&-1!=this.tiles[t][e])if(this.visited[t][e]=!0,this.tiles[t][e]>0)this.exposedStatus.splice(i,1,!0);else{this.exposedStatus.splice(i,1,!0);for(var n=[[-1,0],[1,0],[0,-1],[0,1]],s=0;s<n.length;s++){var a=t+n[s][0],o=e+n[s][1],r=a*this.tiles.length+o;a>=0&&o>=0&&a<this.tiles.length&&o<this.tiles[0].length&&this.exposeDFS(a,o,r)}}},initVisited:function(){this.visited=[];for(var t=0;t<this.tiles.length;t++){for(var e=[],i=0;i<this.tiles[0].length;i++)e.push(!1);this.visited.push(e)}},calculateVisited:function(){this.totalExposed=0;for(var t=0;t<this.visited.length;t++)for(var e=0;e<this.visited[0].length;e++)this.visited[t][e]&&(this.totalExposed+=1)},handleClick:function(t){var e=t.target.id;if(this.gameStatus&&1!=this.exposedStatus[e]){var i=Math.floor(e/10),n=e%10,s=!1;this.mines.forEach(function(t){t==e&&(s=!0)}),s?(console.log("Game Over"),this.gameStatus=!1,this.$emit("gameEnded")):(this.initVisited(),this.exposeDFS(i,n,e)),this.calculateVisited()}10==this.score&&this.checkIfWon()},placeFlag:function(t){if(1!=this.exposedStatus[t]&&1!=this.hasFlag(t)){0!=this.flagCount&&(this.flagCount-=1,W.$emit("flagPlaced",this.flagCount));var e=!1;this.mines.forEach(function(i){i==t&&(e=!0)}),e&&(this.score+=1),this.flagId.push(t)}else 1==this.hasFlag(t)&&(this.mines.includes(t)&&(this.score-=1),this.flagId=this.removeFromFlagId(t),this.flagCount+=1,W.$emit("flagPlaced",this.flagCount));10==this.score&&this.checkIfWon()},checkIfWon:function(){for(var t=0,e=0;e<this.exposedStatus.length;e++)this.exposedStatus[e]&&(t+=1);t>=90&&(this.$emit("gameWon"),console.log("Won!"))},removeFromFlagId:function(t){for(var e=[],i=0;i<this.flagId.length;i++)this.flagId[i]!=t&&e.push(this.flagId[i]);return e},hasFlag:function(t){return 0!=this.flagId.length&&this.flagId.includes(t)},hasZero:function(t){var e=Math.floor(t/10),i=t%10;return 0==this.tiles[e][i]},tileColor:function(t){var e=(t%10+Math.floor(t/10)%2)%2;return 0==e},getTileData:function(t){if(0!=this.tiles.length){var e=Math.floor(t/10),i=t%10;return this.tiles[e][i]}}},created:function(){for(var t=0;t<100;t++)this.exposedStatus.push(!1)}},C=S,_=(i("1cce"),Object(f["a"])(C,m,p,!1,null,"e1742472",null)),x=_.exports,O={data:function(){return{mines:[],tiles:[],length:10,isGameOn:!1,gameNumber:0,hasWon:!1}},methods:{initTiles:function(){this.tiles=[];for(var t=0;t<this.length;t++){for(var e=[],i=0;i<this.length;i++)e.push(0);this.tiles.push(e)}},init:function(){this.gameNumber+=1,this.isGameOn=!0,this.hasWon=!1,this.initTiles(),this.mines=[];for(var t=0;this.mines.length<this.length;t++){var e=Math.floor(Math.random()*this.length*this.length);if(!this.mines.includes(e)){this.mines.push(e);var i=Math.floor(e/10),n=e%10;this.tiles[i][n]=-1;for(var s=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],a=0;a<s.length;a++){var o=i+s[a][0],r=n+s[a][1];o>=0&&r>=0&&o<this.tiles.length&&r<this.tiles[0].length&&-1!=this.tiles[o][r]&&(this.tiles[o][r]+=1)}}}console.log(this.mines.length),console.log(this.mines)},end:function(){this.isGameOn=!1},won:function(){this.hasWon=!0},handleTileClick:function(t){if(this.isGameOn){Math.floor(t/10);var e=!1;this.mines.forEach(function(i){i==t&&(e=!0)}),e&&(console.log("Game Over"),this.isGameOn=!1)}}},components:{myHeader:g,mineFieldContainer:x}},y=O,G=(i("e733"),Object(f["a"])(y,o,r,!1,null,"12f3edb0",null)),E=G.exports,k={name:"app",data:function(){return{}},components:{mainContainer:E}},F=k,w=Object(f["a"])(F,s,a,!1,null,null,null),M=w.exports;i.d(e,"dataBus",function(){return W}),n["a"].config.productionTip=!1;var W=new n["a"];new n["a"]({render:function(t){return t(M)}}).$mount("#app")},"7ddd":function(t,e,i){"use strict";var n=i("a9e5"),s=i.n(n);s.a},a9e5:function(t,e,i){},bd95:function(t,e,i){},e1ac:function(t,e,i){},e733:function(t,e,i){"use strict";var n=i("bd95"),s=i.n(n);s.a}});
//# sourceMappingURL=app.2716926a.js.map